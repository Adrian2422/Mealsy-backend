{"version":3,"sources":["../../../src/middlewares/filters/users.filters.js"],"names":["getFilters","req","res","next","filters","qs","parse","query","searchFilter","q","username","$regex","RegExp"],"mappings":";;;AAGwBA,U,CAHxB,iD,6CACA,wB,oIAEe,SAASA,UAAT,CAAoBC,GAApB,EAAyBC,GAAzB,EAA8BC,IAA9B,EAAmC;AAChD,MAAMC,UAAUC,aAAGC,KAAH,CAASL,IAAIM,KAAb,CAAhB;;AAEA,MAAIC,eAAe,EAAnB;AACA,MAAGJ,QAAQK,CAAX,EAAa;AACXD,mBAAe;AACbE,gBAAU;AACRC,gBAAQ,IAAIC,MAAJ,CAAWR,QAAQK,CAAnB,EAAsB,GAAtB,CADA,EADG,EAAf;;;AAKD;;AAEDR,MAAIG,OAAJ,gBAAmBI,YAAnB;AACAL;AACD","file":"users.filters.js","sourcesContent":["import Users from '../../models/users.model';\r\nimport qs from 'qs';\r\n\r\nexport default function getFilters(req, res, next){\r\n  const filters = qs.parse(req.query);\r\n\r\n  let searchFilter = {};\r\n  if(filters.q){\r\n    searchFilter = {\r\n      username: {\r\n        $regex: new RegExp(filters.q, 'i')\r\n      }\r\n    }\r\n  }\r\n\r\n  req.filters = { ...searchFilter };\r\n  next(); \r\n}"]}